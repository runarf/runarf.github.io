(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{145:function(e,a,t){"use strict";t.r(a);t(335),t(75),t(51),t(337),t(223);var n=t(0),l=t.n(n),r=t(247),m=t(263),u=t(469),i=t.n(u),c=t(505),o=t(507),s=t(493),f=t(510),E=t(306),b=t(508),p=t(242),d=t(243),g=function(){return m.lazy(function(e){var a=e.lots.map(function(e){return e.name}).map(function(e){return{count:1,name:e}}).reduce(function(e,a){return e[a.name]=(e[a.name]||0)+a.count,e},{});console.log(a);var t=Object.keys(a).filter(function(e){return a[e]>1});return m.object().shape({lots:m.array().of(m.object().shape({name:m.string().notOneOf(t,"lotname has to be unique").required("required"),quantities:m.array().of(m.number().typeError("must be number").min(0,"must be positive").integer("must be integer"))}))})})},y=[38,39,40],v={lots:[{name:"Test",quantities:["021111","123","231"],id:"105d668b-0912-4bff-91b4-3aec881bb6ce"}]},h=function(e){var a=e.field;return l.a.createElement(c.a,a)};a.default=function(){var e;return l.a.createElement(o.a,null,l.a.createElement(r.e,{initialValues:v,validationSchema:g,onSubmit:function(e,a){var t=a.setSubmitting;setTimeout(function(){alert(JSON.stringify(e,null,2)),t(!1)},400)}},function(a){a.isSubmitting;var t=a.values;a.isValid;return l.a.createElement(r.d,null,l.a.createElement(s.a,{columns:["xsmall"],rows:["auto","auto","flex"],areas:[{name:"header",start:[0,0],end:[1,0]},{name:"main",start:[0,1],end:[1,1]},{name:"bottom",start:[0,2],end:[1,2]}]},l.a.createElement(f.a,{gridArea:"header"},l.a.createElement(s.a,{columns:["xsmall"].concat(y.map(function(){return"xsmall"}),["xsmall"]),gap:"small",margin:"small"},l.a.createElement(f.a,{align:"center"},l.a.createElement(E.a,null,"Name of lot")),y.map(function(e){return l.a.createElement(f.a,{align:"center"},l.a.createElement(E.a,{key:e},e))}))),l.a.createElement(f.a,{gridArea:"main"},l.a.createElement(r.c,{name:"lots"},function(a){return e=a.push,[t.lots&&t.lots.length>0&&t.lots.map(function(e,t){return l.a.createElement(s.a,{columns:["xsmall"].concat(y.map(function(){return"xsmall"}),["xsmall"]),gap:"small",margin:"small"},l.a.createElement(f.a,null,l.a.createElement(r.b,{name:"lots["+t+"].name"},function(e){var a=e.field;return l.a.createElement(c.a,a)}),l.a.createElement(r.a,{component:E.a,name:"lots["+t+"].name"})),e.quantities.map(function(e,a){return l.a.createElement(f.a,{key:a},l.a.createElement(r.b,{component:h,name:"lots["+t+"].quantities["+a+"]"}),l.a.createElement(r.a,{component:E.a,name:"lots["+t+"].quantities["+a+"]"}))}),l.a.createElement(f.a,{justify:"center"},l.a.createElement(b.a,{onClick:function(){return a.remove(t)}},l.a.createElement(p.a,null))))})]})),l.a.createElement(f.a,{gridArea:"bottom",pad:"xsmall"},l.a.createElement(s.a,{columns:["small","small"],justifyContent:"start",gap:"small"},l.a.createElement(f.a,null,l.a.createElement(b.a,{onClick:function(){return e({name:"",quantities:Array(3).fill(0),id:i()()})},label:l.a.createElement(d.a,null)})),l.a.createElement(f.a,null,l.a.createElement(b.a,{primary:!0,type:"submit",label:"Submit"}))))))}))}}}]);
//# sourceMappingURL=component---src-codesamples-form-adv-js-2e12aef12c6c66f64020.js.map